<script>
  document.getElementsByTagName('title')[0].innerHTML = 'modelFormTest'

  /* Test de modelform */
  // No funciona
</script>


<div style="display:none">
    <div data-sivWidget="Siviglia.model.web.Page.forms.Edit" data-widgetCode="Siviglia.model.web.Page.forms.Edit">
        <div data-sivView="Siviglia.inputs.jqwidgets.Form" data-sivParams='{"bto":"/*instance"}'></div>
    </div>
</div>


<div class="widget">
    <div class="widget-content">
        <div data-sivView="Siviglia.model.web.Page.forms.Edit" data-sivParams='{"id_page":2}'></div>
    </div>
</div>


<script>
  Siviglia.Utils.buildClass({
    "context":"Siviglia.model.web.Page.forms",
    "classes":{
      Edit:{
        "inherits":"Siviglia.UI.Expando.View",
        "methods":{
          preInitialize:function(params)
          {
            var p=$.Deferred();
            var m=this;
            var f=new Siviglia.Model.ModelFactory();
            f.load("/model/web/Page",params.id_page).then(function(instance){
              m.instance=instance;
              p.resolve();
            })
            return p;
          },
          initialize:function(params){}
        }
      }
    }
  });
</script>