<!-- templateInit -->
<div data-sivWidget="dictionary-field-complex-fields" data-widgetParams="" data-widgetCode="Test.DictionaryFieldComplexFields">   <div class="label">Dictionario de Container:</div>   <div data-sivView="Siviglia.inputs.jqwidgets.StdInputContainer"
       data-sivParams='{"controller":"*self","parent":"*type","form":"*form","key":"containerDictionary"}'>   </div>   <div class="label">Dictionario de Array:</div>   <div data-sivView="Siviglia.inputs.jqwidgets.StdInputContainer"
       data-sivParams='{"controller":"*self","parent":"*type","form":"*form","key":"arrayDictionary"}'>   </div>   <div class="label">Dictionario de Dictionary:</div>   <div data-sivView="Siviglia.inputs.jqwidgets.StdInputContainer"
       data-sivParams='{"controller":"*self","parent":"*type","form":"*form","key":"dictionaryDictionary"}'>   </div>   <div class="label">Dictionario de TypeSwitcher:</div>   <div data-sivView="Siviglia.inputs.jqwidgets.StdInputContainer"
       data-sivParams='{"controller":"*self","parent":"*type","form":"*form","key":"typeSwitcherDictionary"}'>   </div></div>
<!-- templateEnd -->

<!-- viewInit -->
<div data-sivView="dictionary-field-complex-fields"></div>
<!-- viewEnd -->

<script>
  //codeInit
  Siviglia.Utils.buildClass({
      context: 'Test',
      classes: {
        DictionaryFieldComplexFields: {
          inherits: "Siviglia.inputs.jqwidgets.Form",
          methods: {
            preInitialize: function (params) {
              this.factory = Siviglia.types.TypeFactory;
              this.self = this;
              this.typeCol = [];
              this.formDefinition = new Siviglia.model.BaseTypedObject({
                "FIELDS": {
                  containerDictionary: {
                    LABEL: "Diccionario de container",
                    "TYPE": "Dictionary",
                    "VALUETYPE": {
                      "TYPE": "Container",
                      "FIELDS": {
                        "field1": {
                          "LABEL": "Campo 1",
                          "TYPE": "String"
                        },
                        "field2": {
                          "LABEL": "Campo 2",
                          "TYPE": "Integer"
                        }
                      }
                    }
                  },
                  arrayDictionary: {
                    LABEL: "Diccionario de array",
                    TYPE: 'Dictionary',
                    VALUETYPE: {
                      TYPE: 'Array',
                      ELEMENTS: {
                        TYPE: 'String',
                      }
                    }
                  },
                  dictionaryDictionary: {
                    LABEL: "Diccionario de diccionario",
                    TYPE: 'Dictionary',
                    VALUETYPE: {
                      TYPE: 'Dictionary',
                      VALUETYPE: {
                        "TYPE": "Container",
                        "FIELDS": {
                          "field1": {
                            "LABEL": "Campo 1",
                            "TYPE": "String"
                          },
                          "field2": {
                            "LABEL": "Campo 2",
                            "TYPE": "Integer"
                          }
                        }
                      }
                    },
                  },
                  typeSwitcherDictionary: {
                    LABEL: "Diccionario de typeSwitcher",
                    TYPE: 'Dictionary',
                    VALUETYPE: {
                      TYPE: 'TypeSwitcher',
                      "TYPE_FIELD": "typeField",
                      CONTENT_FIELD: 'contentField',
                      "ALLOWED_TYPES": {
                        "typeOne": {
                          "TYPE": "String"
                        },
                        "typeTwo": {
                          "TYPE": "Container",
                          "FIELDS": {
                            field1: {
                              "LABEL": "Campo 1",
                              "TYPE": "String"
                            },
                            field2: {
                              "LABEL": "Campo 2",
                              "TYPE": "Integer"
                            }
                          }
                        }
                      }
                    }
                  },
                }
              });
              this.formDefinition.simpleDictionary = {
                'Primera entrada': {"field1": "AAA", "field2": 555},
                'Segunda entrada': {"field1": "ZZZ", "field2": 666}
              };

              return this.Form$preInitialize({bto: this.formDefinition});
            },
            initialize: function (params) {
            },
          }
        }
      }
    })
    
//codeEnd
</script>