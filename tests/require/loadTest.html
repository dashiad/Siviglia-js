<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test require</title>
    <script src="http://statics.adtopy.com/node_modules/jquery/dist/jquery.js"></script>
</head>
<body style="background-color:#EEE; background-image:none;">
<script>
  var Siviglia = Siviglia || {};
  Siviglia.Utils = Siviglia.Utils || {};
  Siviglia.debug = true;

  Siviglia.config = {
    baseUrl: 'http://reflection.adtopy.com/',
    staticsUrl: 'http://statics.adtopy.com/',
    metadataUrl: 'http://metadata.adtopy.com/',
  };
</script>
<script src="http://statics.adtopy.com/packages/Siviglia/tests/require/require.js"></script>

<div>Require test</div>
<br>

<script>
  var signingBook = []

  var dependencyList = [
    '/packages/Siviglia/tests/require/stubs/mock.html',
    '/packages/Siviglia/tests/require/stubs/mock.js',
    '/packages/Siviglia/tests/require/stubs/mock.css'
  ]
  var dependencyConfig = {
    type: 'html',
    url: '/packages/Siviglia/tests/require/stubs/mock.html'
  }
  var widgetConfig = {
    type: 'widget',
    template: '/packages/Siviglia/tests/require/stubs/widgetMock.html',
    js: '/packages/Siviglia/tests/require/stubs/widgetMock.js',
  }

  Siviglia.Utils.load('/packages/Siviglia/tests/require/stubs/mock.html', true, false).then(function () {
    console.log('string dependency')
    signingBook.push('Contexto principal')
  })

  Siviglia.Utils.load(dependencyConfig, true, false).then(function () {
    console.log('dependency config')
    signingBook.push('Contexto principal')
  })

  Siviglia.Utils.load(dependencyList, true, false).then(function () {
    console.log('dependency list')
    signingBook.push('Contexto principal')
  })

  Siviglia.Utils.load('/packages/Siviglia/tests/require/stubs/widgetMock', true, false).then(function () {
    console.log('string widget dependency')
    signingBook.push('Contexto principal')
  })

  Siviglia.Utils.load(widgetConfig, true, false).then(function () {
    console.log('widget dependency')
    signingBook.push('Contexto principal')
  })
</script>
</body>
</html>
